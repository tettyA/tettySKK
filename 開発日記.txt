20:37 2025/11/12
tettySKK.slnxを作成。(n回目)
レジストリに値を登録するのと，Dll呼出関連の実装をした。
なお，この文章はSKKFEPで記述されている。

22:38 2025/11/13
class CSkkImeにITfTextInputProcessorを実装。 
regsvr32でコマンドを実行し，やっとwindowsくんにIMEとして認識された！今のところはローマ字しか打てないが何とかして日本語を入力されるようにしていくぞ〜
CSkkImeにITfKeyEventSinkを継承させる。

13:09 2025/11/14
CSkkIme classにITfCompositionSinkを継承させ実装。
未確定文字列?の表示ができるようになった.(ただし，Rを押したら「あ」と入力されるだけだが)

23:34 2025/11/14
ローマ字がひらがなに変換されるようになった。
しかしながら，例えば， sanma と入力しても，さnma と変換されてしまう。
また，下線を付すのも，一文字だけしかできず，sha と入力すると，<u>s</u>→sh→しゃ→となってしまう。
IMEの終了が不安定である。まあ大丈夫だとは思うが...

??:?? 2025/11/15
一文字だけ漢字に変換出来るように(暫定辞書に登録しているものに限る)

15:00 2025/11/16
暫定辞書に登録している語句の変換が出来るようになった。
また，エンターで変換の確定，変換が確定していないときに他の文字が押されるとその未確定変換が確定されるようにした。
EditSessionクラスのリファクタリング

16:33 2025/11/16
変換候補ウィンドウの表示ができるようになった。

20:07 2025/11/16
ひらがなモードで打ちこむと最初から確定され，Shiftを打ちながらやると変換モードにするようにした。▼や▽は別に実装しない。不要なので。

11:58 2025/11/17
送り仮名を変換したいが，なかなか上手くいかない。場合分けが複雑すぎる...?
メモ:
KaKu KakU KaKU KAKu KAkU KAKU
書く   [Debug1][Debug2]書く 書く [Debug1][Debug2]角 [Debug1][Debug2]角 [Debug1][Debug2]角

書く  [Debug1: tOs:かk][Debug2]書く 書く [Debug1: tOs:k][Debug2]角 [Debug1: tOs:k][Debug2]角 [Debug1: tOs:k][Debug2]角

書く 角 書く 書く 角 書く

書く    [Debug1: tOs:かk]角    書く    [Debug1: tOs:k]書く     [Debug1: tOs:k][Debug1: tOs:かk]角      [Debug1: tOs:k]書く
書く    [Debug1: tOs:かk][Debug2]書く   書く    [Debug1: tOs:k]書く   [Debug1: tOs:k][Debug1: tOs:かk][Debug2]書く   [Debug1: tOs:k]書くs
書く [Debug1: tOs:かk][Debug2]書く 書く [Debug1: tOs:k]書く [Debug1: tOs:k][Debug1: tOs:かk][Debug2]書く [Debug1: tOs:k]書く

処す
ShoSu  --  処す
ShosU  --  [Debug1: tOs:しょs]しょす   [Debug1: tOs:しょs し]しょす
ShoSU  --  処す
sHoSu  --   しょす
sHosU  --   しょす
sHoSU  --   しょす
shOSu  --   [Debug1: tOs:sh][Debug2]しょす
shOsU  --   [Debug1: tOs:sh][Debug2]しょす
shOSU --   しょす
SHoSu --   しょす
SHosU --   しょす
SHoSU --   しょす
ShOSu  --   [Debug1: tOs:sh][Debug2]しょす
ShOsU --   [Debug1: tOs:sh][Debug2]しょす
ShOSU --   [Debug1: tOs:sh][Debug2]しょす
sHOSu --   しょす
sHOsU  --   しょす
sHOSU  --   しょす
SHOSu  --   しょす
SHOsU --   しょす
SHOSU  --   しょす

12:00 2025/11/18
送り仮名の処理を実装完了。難しく考えすぎていた。
コメントメモ:
 一回目のシフトで変換モードの開始。(ここに来る前に処理済み)
 ↓↓↓↓ここからここで処理する↓↓↓↓
 二回目のシフトの時，かな|漢字 確定部分.length() == 0 ならば無視。
 かな|漢字 確定部分.length() >= 1 ならば，送り仮名開始し，語幹を設定。
 もし，既に語幹が設定されていたら無視。

メモ:

KaKu KakU KaKU KAKu KAkU KAKU
書く   かく   書く    書く    かく    書く
[Debug1:か か]書 [Debug1:か かk] [Debug1:か か]く [Debug1:k k]く [Debug1: k][Debug1: k] [Debug1: k][Debug1: k] 
[Debug1:]書  [Debug1:] [Debug1:か]く  [Debug1:]く [Debug1:][Debug1:] [Debug1:][Debug1:] 
[Debug2:か, k]書 [Debug2:か, u] かく [Debug2:か, k]書 [Debug2:か, u] [Debug2:か, u] かく
書く 書く 書く 書く 書く 書く
書く 書く 書く 書く 書く 書く
書く  書く 書く 書く 書く 書く

処す
ShoSu  --  処す  処す  処す
ShosU  --  処す  処す  処す
ShoSU  --  処す  処す  処す
sHoSu  --   sほす  s処す  処す
sHosU  --   sほす s処す  処す
sHoSU  --   sほす s処す  処す
shOSu  --   shおす sh処す 処す
shOsU  --   shおす sh処す 処す
shOSU --   shおす  sh処す  処す
SHoSu --   処す  処す  処す
SHosU --   処す  処す  処す
SHoSU --   処す 処す 処す
ShOSu  --   処す 処す 処す
ShOsU --   処す  処す 処す
ShOSU --   処す 処す 処す
sHOSu --   sほす  s処す 処す
sHOsU  --   sほす s処す 処す
sHOSU  --   sほす s処す 処す
SHOSu  --   処す 処す 処す
SHOsU --   処す 処す 処す
SHOSU  --   処す 処す 処す

13:04 2025/11/18
終了時に固まって落ちる問題と，辞書にない語を変換しようとすると配列外参照で落ちる問題を解決

19:03 2025/11/18
辞書を読み込みに対応。SKK-JISYO.L を読み込んで書くようにした。とりあえずパスを直で書き込んだが，なんとかする。

01:07 2025/11/19
ASDFJKL変換に対応した。しかしながら，まだ色々と不具合がある。変換候補ウィンドウも改善した。


21:35 2025/11/19
qモードに対応した。片仮名で変換も出きるように。
lモードの実装。CTRL+J,l,qでそれぞれのモードに移行出来るように。

IMEのアイコンを取り敢えず表示させた。しかし，モードのアイコンは表示できない
↑
ようやく，モードのアイコンを表示できるようにした。
どうやら，CLangBarItemButtonの_LangBarItemInfo.guidItemは，GUID_LBI_INPUTMODEの値でないといけない。
しかしながら，その値を使用すると定義されていないと怒られるため，Geminiが言っていても嘘つけ，としか思わなかった。
しかし，MSのドキュメントを見てみると，GUID_LBI_INPUTMODEを使用しろとしきりに言っているので，やはりGeminiは正しかった。
cmdで，
findstr /S /I /C:"GUID_LBI_INPUTMODE" "C:\Program Files (x86)\Windows Kits\10\Include\*.*"
を実行すると，定義されているファイルが見つかった(ctffunc.h)ので，includeしたら，無事にコンパイルが通り，IMEのモードアイコンが表示された。

18:53 2025/11/22
アイコンが正しい順序で表示されるようにした。

23:48 2025/11/23
辞書登録を，直前にひらがなが表示されていた場合のみ，漢字への変換をしないのならば登録可能にした。
辞書には登録をしているが，ファイルには保存されない。

23:49 2025/11/24
辞書登録からエンターで戻れるようにした。また，ASDFJKL変換中には，未確定中の文字列はひらがなで表示するようにした。
辞書登録時の候補ウィンドウのサイズを正常にした。

12:00 2025/11/25
__InsertTextMakeCandidateWindowで処理の共通化
OnKeyDownの処理の委譲